{"ast":null,"code":"import _classCallCheck from \"/Users/tauag/Projects/sunbeam/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tauag/Projects/sunbeam/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tauag/Projects/sunbeam/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tauag/Projects/sunbeam/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tauag/Projects/sunbeam/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tauag/Projects/sunbeam/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Location from './search/Location';\nimport WeatherView from './display/weatherview';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.setLatLng = function (coordinates) {\n      var _this$state = _this.state,\n          lat = _this$state.lat,\n          lng = _this$state.lng;\n\n      if (coordinates.lat !== lat && coordinates.lng !== lng) {\n        _this.handleDarkSkyCall(coordinates).catch(function (error) {\n          _this.handleError('darksky', error);\n        });\n      }\n    };\n\n    _this.handleError = function (errorSource, errorObj) {\n      console.log(errorObj); // Need to display some sort of error message on the application\n      // geocode\n      // geolocate\n      // weather\n      // failed response\n      // missing features\n    };\n\n    _this.state = {\n      coordinates: {\n        lat: 40.7127753,\n        lng: -74.0059728\n      },\n      data: {}\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleDarkSkyCall(this.state.coordinates);\n    }\n  }, {\n    key: \"handleDarkSkyCall\",\n    value: function handleDarkSkyCall(coordinates) {\n      var _this2 = this;\n\n      var lat = coordinates.lat,\n          lng = coordinates.lng;\n      return new Promise(function (resolve, reject) {\n        axios(\"\".concat(process.env.REACT_APP_SUNBEAMAPI, \"/weather?lat=\").concat(lat, \"&lng=\").concat(lng)).then(function (response) {\n          var data = response.data;\n\n          _this2.setState({\n            data: data,\n            coordinates: coordinates\n          }, function () {\n            resolve();\n          });\n        }, function (error) {\n          reject();\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Location, {\n        address: \"New York, NY, USA\",\n        setCoordinates: this.setLatLng,\n        onError: this.handleError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(WeatherView, {\n        data: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/tauag/Projects/sunbeam/src/App.js"],"names":["React","Component","axios","Location","WeatherView","App","props","setLatLng","coordinates","state","lat","lng","handleDarkSkyCall","catch","error","handleError","errorSource","errorObj","console","log","data","Promise","resolve","reject","process","env","REACT_APP_SUNBEAMAPI","then","response","setState"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAO,WAAP;;IAEMC,G;;;;;AACL,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,6EAAMA,KAAN;;AADkB,UAYnBC,SAZmB,GAYP,UAAAC,WAAW,EAAI;AAAA,wBACL,MAAKC,KADA;AAAA,UAClBC,GADkB,eAClBA,GADkB;AAAA,UACbC,GADa,eACbA,GADa;;AAG1B,UAAIH,WAAW,CAACE,GAAZ,KAAoBA,GAApB,IAA2BF,WAAW,CAACG,GAAZ,KAAoBA,GAAnD,EAAwD;AACvD,cAAKC,iBAAL,CAAuBJ,WAAvB,EAAoCK,KAApC,CAA0C,UAAAC,KAAK,EAAI;AAClD,gBAAKC,WAAL,CAAiB,SAAjB,EAA4BD,KAA5B;AACA,SAFD;AAGA;AACD,KApBkB;;AAAA,UAsBnBC,WAtBmB,GAsBL,UAACC,WAAD,EAAcC,QAAd,EAA2B;AACxCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EADwC,CAExC;AACA;AACA;AACA;AACA;AACA;AACA,KA9BkB;;AAElB,UAAKR,KAAL,GAAa;AACZD,MAAAA,WAAW,EAAE;AAAEE,QAAAA,GAAG,EAAE,UAAP;AAAmBC,QAAAA,GAAG,EAAE,CAAC;AAAzB,OADD;AAEZS,MAAAA,IAAI,EAAE;AAFM,KAAb;AAFkB;AAMlB;;;;wCAEmB;AACnB,WAAKR,iBAAL,CAAuB,KAAKH,KAAL,CAAWD,WAAlC;AACA;;;sCAsBiBA,W,EAAa;AAAA;;AAAA,UACtBE,GADsB,GACTF,WADS,CACtBE,GADsB;AAAA,UACjBC,GADiB,GACTH,WADS,CACjBG,GADiB;AAG9B,aAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvCrB,QAAAA,KAAK,WACDsB,OAAO,CAACC,GAAR,CAAYC,oBADX,0BAC+ChB,GAD/C,kBAC0DC,GAD1D,EAAL,CAEEgB,IAFF,CAGC,UAAAC,QAAQ,EAAI;AACX,cAAMR,IAAI,GAAGQ,QAAQ,CAACR,IAAtB;;AACA,UAAA,MAAI,CAACS,QAAL,CAAc;AAAET,YAAAA,IAAI,EAAJA,IAAF;AAAQZ,YAAAA,WAAW,EAAXA;AAAR,WAAd,EAAqC,YAAM;AAC1Cc,YAAAA,OAAO;AACP,WAFD;AAGA,SARF,EASC,UAAAR,KAAK,EAAI;AACRS,UAAAA,MAAM;AACN,SAXF;AAaA,OAdM,CAAP;AAeA;;;6BAEQ;AACR,aACC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,QAAD;AACC,QAAA,OAAO,EAAC,mBADT;AAEC,QAAA,cAAc,EAAE,KAAKhB,SAFtB;AAGC,QAAA,OAAO,EAAE,KAAKQ,WAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAMC,oBAAC,WAAD;AAAa,QAAA,IAAI,EAAE,KAAKN,KAAL,CAAWW,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAND,CADD;AAUA;;;;EAhEgBnB,S;;AAmElB,eAAeI,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Location from './search/Location';\nimport WeatherView from './display/weatherview';\nimport './App.css';\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcoordinates: { lat: 40.7127753, lng: -74.0059728 },\n\t\t\tdata: {}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.handleDarkSkyCall(this.state.coordinates);\n\t}\n\n\tsetLatLng = coordinates => {\n\t\tconst { lat, lng } = this.state;\n\n\t\tif (coordinates.lat !== lat && coordinates.lng !== lng) {\n\t\t\tthis.handleDarkSkyCall(coordinates).catch(error => {\n\t\t\t\tthis.handleError('darksky', error);\n\t\t\t});\n\t\t}\n\t};\n\n\thandleError = (errorSource, errorObj) => {\n\t\tconsole.log(errorObj);\n\t\t// Need to display some sort of error message on the application\n\t\t// geocode\n\t\t// geolocate\n\t\t// weather\n\t\t// failed response\n\t\t// missing features\n\t};\n\n\thandleDarkSkyCall(coordinates) {\n\t\tconst { lat, lng } = coordinates;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\taxios(\n\t\t\t\t`${process.env.REACT_APP_SUNBEAMAPI}/weather?lat=${lat}&lng=${lng}`\n\t\t\t).then(\n\t\t\t\tresponse => {\n\t\t\t\t\tconst data = response.data;\n\t\t\t\t\tthis.setState({ data, coordinates }, () => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\terror => {\n\t\t\t\t\treject();\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t\t<Location\n\t\t\t\t\taddress=\"New York, NY, USA\"\n\t\t\t\t\tsetCoordinates={this.setLatLng}\n\t\t\t\t\tonError={this.handleError}\n\t\t\t\t/>\n\t\t\t\t<WeatherView data={this.state.data} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}